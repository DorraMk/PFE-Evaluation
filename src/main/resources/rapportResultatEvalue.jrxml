<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.18.1.final using JasperReports Library version 6.18.1-9d75d1969e774d4f179fb3be8401e98a0e6d1611  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="resulEval" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="4eedbb89-b4f6-4469-9ab6-f642a1688cf7">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="PFEData Adapter"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<style name="Title" forecolor="#FFFFFF" fontName="Times New Roman" fontSize="50" isBold="false" pdfFontName="Times-Bold"/>
	<style name="SubTitle" forecolor="#CCCCCC" fontName="Times New Roman" fontSize="18" isBold="false" pdfFontName="Times-Roman"/>
	<style name="Column header" forecolor="#666666" fontName="Times New Roman" fontSize="14" isBold="true"/>
	<style name="Detail" mode="Transparent" fontName="Times New Roman"/>
	<style name="Row" mode="Transparent" fontName="Times New Roman" pdfFontName="Times-Roman">
		<conditionalStyle>
			<conditionExpression><![CDATA[$V{REPORT_COUNT}%2 == 0]]></conditionExpression>
			<style mode="Opaque" backcolor="#EEEFF0"/>
		</conditionalStyle>
	</style>
	<style name="Table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
			<topPen lineWidth="1.0" lineColor="#000000"/>
			<leftPen lineWidth="1.0" lineColor="#000000"/>
			<bottomPen lineWidth="1.0" lineColor="#000000"/>
			<rightPen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="tableDataset" uuid="f13e6d36-5148-4ecc-bbe3-3035def80980">
		<queryString>
			<![CDATA[]]>
		</queryString>
	</subDataset>
	<subDataset name="Dataset1" uuid="c76fd471-24f7-40e9-8ae3-f437f8da7946">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="PFEData Adapter"/>
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<parameter name="id_res" class="java.lang.Long"/>
		<parameter name="usr_matricule" class="java.lang.String"/>
		<queryString>
			<![CDATA[SELECT 
    t.titre, c.titrecritere,
    rc.besoin, rc.bon, rc.exceptionnel, rc.insatisfaisant, rc.moyen
FROM 
    res_eval r
JOIN 
    grille_eval g ON r.grille = g.id_grille
JOIN 
    utilisateur u1 ON r.evalue = u1.usr_matricule
JOIN 
    rhnom rh ON u1.code_fonction = rh.idnom
JOIN 
    themes t ON r.grille = t.grille
JOIN 
    critere c ON t.id_theme = c.id_theme
LEFT JOIN 
    RESULTAT_CRITERE rc ON c.id_critere = rc.idcritere AND u1.usr_matricule = rc.matricule_evalue
WHERE 
    r.id_res = $P{id_res} AND r.flg_eval = 1 AND r.evalue= $P{usr_matricule}]]>
		</queryString>
		<field name="TITRE" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="TITRE"/>
			<property name="com.jaspersoft.studio.field.label" value="TITRE"/>
		</field>
		<field name="TITRECRITERE" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="TITRECRITERE"/>
			<property name="com.jaspersoft.studio.field.label" value="TITRECRITERE"/>
		</field>
		<field name="BESOIN" class="java.math.BigDecimal">
			<property name="com.jaspersoft.studio.field.name" value="BESOIN"/>
			<property name="com.jaspersoft.studio.field.label" value="BESOIN"/>
		</field>
		<field name="BON" class="java.math.BigDecimal">
			<property name="com.jaspersoft.studio.field.name" value="BON"/>
			<property name="com.jaspersoft.studio.field.label" value="BON"/>
		</field>
		<field name="EXCEPTIONNEL" class="java.math.BigDecimal">
			<property name="com.jaspersoft.studio.field.name" value="EXCEPTIONNEL"/>
			<property name="com.jaspersoft.studio.field.label" value="EXCEPTIONNEL"/>
		</field>
		<field name="INSATISFAISANT" class="java.math.BigDecimal">
			<property name="com.jaspersoft.studio.field.name" value="INSATISFAISANT"/>
			<property name="com.jaspersoft.studio.field.label" value="INSATISFAISANT"/>
		</field>
		<field name="MOYEN" class="java.math.BigDecimal">
			<property name="com.jaspersoft.studio.field.name" value="MOYEN"/>
			<property name="com.jaspersoft.studio.field.label" value="MOYEN"/>
		</field>
	</subDataset>
	<parameter name="id_res" class="java.lang.Long"/>
	<parameter name="usr_matricule" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT
    r.amelioration, r.objectifs, r.resume, r.resultat, r.point_fort,r.date_res, u1.usr_nomprenom as evaluateurNom,
    t.id_theme,t.titre, c.titrecritere, u1.usr_nomprenom, rh.lib1,
    rc.besoin, rc.bon, rc.exceptionnel, rc.insatisfaisant, rc.moyen
FROM 
    res_eval r
JOIN 
    grille_eval g ON r.grille = g.id_grille
JOIN 
    utilisateur u1 ON r.evalue = u1.usr_matricule
JOIN 
    rhnom rh ON u1.code_fonction = rh.idnom
JOIN 
    themes t ON r.grille = t.grille
JOIN 
    critere c ON t.id_theme = c.id_theme
LEFT JOIN 
    RESULTAT_CRITERE rc ON c.id_critere = rc.idcritere AND u1.usr_matricule = rc.matricule_evalue
WHERE 
    r.id_res = $P{id_res} AND r.flg_eval = 1 AND r.evalue= $P{usr_matricule}
    --GROUP BY  t.id_theme]]>
	</queryString>
	<field name="AMELIORATION" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="AMELIORATION"/>
		<property name="com.jaspersoft.studio.field.label" value="AMELIORATION"/>
	</field>
	<field name="OBJECTIFS" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="OBJECTIFS"/>
		<property name="com.jaspersoft.studio.field.label" value="OBJECTIFS"/>
	</field>
	<field name="RESUME" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="RESUME"/>
		<property name="com.jaspersoft.studio.field.label" value="RESUME"/>
	</field>
	<field name="RESULTAT" class="java.lang.Double">
		<property name="com.jaspersoft.studio.field.name" value="RESULTAT"/>
		<property name="com.jaspersoft.studio.field.label" value="RESULTAT"/>
	</field>
	<field name="POINT_FORT" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="POINT_FORT"/>
		<property name="com.jaspersoft.studio.field.label" value="POINT_FORT"/>
	</field>
	<field name="DATE_RES" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.name" value="DATE_RES"/>
		<property name="com.jaspersoft.studio.field.label" value="DATE_RES"/>
	</field>
	<field name="EVALUATEURNOM" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="EVALUATEURNOM"/>
		<property name="com.jaspersoft.studio.field.label" value="EVALUATEURNOM"/>
	</field>
	<field name="ID_THEME" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="ID_THEME"/>
		<property name="com.jaspersoft.studio.field.label" value="ID_THEME"/>
	</field>
	<field name="TITRE" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="TITRE"/>
		<property name="com.jaspersoft.studio.field.label" value="TITRE"/>
	</field>
	<field name="TITRECRITERE" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="TITRECRITERE"/>
		<property name="com.jaspersoft.studio.field.label" value="TITRECRITERE"/>
	</field>
	<field name="USR_NOMPRENOM" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="USR_NOMPRENOM"/>
		<property name="com.jaspersoft.studio.field.label" value="USR_NOMPRENOM"/>
	</field>
	<field name="LIB1" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="LIB1"/>
		<property name="com.jaspersoft.studio.field.label" value="LIB1"/>
	</field>
	<field name="BESOIN" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="BESOIN"/>
		<property name="com.jaspersoft.studio.field.label" value="BESOIN"/>
	</field>
	<field name="BON" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="BON"/>
		<property name="com.jaspersoft.studio.field.label" value="BON"/>
	</field>
	<field name="EXCEPTIONNEL" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="EXCEPTIONNEL"/>
		<property name="com.jaspersoft.studio.field.label" value="EXCEPTIONNEL"/>
	</field>
	<field name="INSATISFAISANT" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="INSATISFAISANT"/>
		<property name="com.jaspersoft.studio.field.label" value="INSATISFAISANT"/>
	</field>
	<field name="MOYEN" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="MOYEN"/>
		<property name="com.jaspersoft.studio.field.label" value="MOYEN"/>
	</field>
	<title>
		<band height="166" splitType="Stretch">
			<line>
				<reportElement x="0" y="80" width="556" height="1" uuid="806ce5df-1219-4876-ae0c-ca7405b1f246">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
			</line>
			<staticText>
				<reportElement x="0" y="90" width="130" height="25" uuid="839a3862-3a0a-4dc7-92e1-ee3e856d2e20">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement>
					<font size="16" isBold="true"/>
				</textElement>
				<text><![CDATA[Nom Prénom :]]></text>
			</staticText>
			<textField>
				<reportElement x="0" y="120" width="100" height="30" uuid="90bedc29-3bd1-41c8-9c2a-39f1e9e7047c"/>
				<textFieldExpression><![CDATA[$F{USR_NOMPRENOM}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="159" y="90" width="130" height="25" uuid="7e5ebf7a-5d5f-48db-ae83-6b7e759b1b6d">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement>
					<font size="16" isBold="true"/>
				</textElement>
				<text><![CDATA[Fonction :]]></text>
			</staticText>
			<textField>
				<reportElement x="166" y="122" width="100" height="30" uuid="58937d34-6668-4116-862b-4d3007d3960d"/>
				<textFieldExpression><![CDATA[$F{LIB1}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="410" y="90" width="84" height="25" uuid="def4f4d5-6be6-4248-af82-f1664313b5fa">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement>
					<font size="16" isBold="true"/>
				</textElement>
				<text><![CDATA[Evaluateur :]]></text>
			</staticText>
			<textField>
				<reportElement x="400" y="120" width="100" height="30" uuid="7cb1eddb-1054-40b3-9de2-e6236ae78f12"/>
				<textFieldExpression><![CDATA[$F{EVALUATEURNOM}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="421" y="40" width="50" height="20" uuid="6b629caa-5d93-4867-b6c9-e29f64097596"/>
				<box rightPadding="4"/>
				<textElement textAlignment="Right"/>
				<text><![CDATA[Date:]]></text>
			</staticText>
			<textField pattern="EEEEE dd MMMMM yyyy">
				<reportElement x="480" y="40" width="84" height="20" uuid="154dacb5-0c99-4c06-adb1-acd49362bb1a"/>
				<textFieldExpression><![CDATA[$F{DATE_RES}]]></textFieldExpression>
			</textField>
			<image>
				<reportElement x="0" y="4" width="83" height="116" uuid="cd2a9e38-32e4-4419-9e47-d4a6e133d10f"/>
				<imageExpression><![CDATA["D:/user/gti.png"]]></imageExpression>
			</image>
			<staticText>
				<reportElement x="93" y="10" width="395" height="25" uuid="6aa5e2d1-90d1-422a-ab89-aeb01d1be74b">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement>
					<font size="19" isBold="true"/>
				</textElement>
				<text><![CDATA[Génerale Tunisienne de l'informatique]]></text>
			</staticText>
		</band>
	</title>
	<columnHeader>
		<band/>
	</columnHeader>
	<detail>
		<band height="120">
			<subreport>
				<reportElement x="-7" y="10" width="56" height="46" uuid="30b9fad3-20ca-4b49-b23c-d4d4eae0ec74"/>
				<subreportParameter name="id_res">
					<subreportParameterExpression><![CDATA[$P{id_res}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="usr_matricule">
					<subreportParameterExpression><![CDATA[$P{usr_matricule}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA["rapport.jasper"]]></subreportExpression>
			</subreport>
		</band>
		<band height="70">
			<textField>
				<reportElement x="-4" y="1" width="90" height="40" uuid="68556e33-3746-41ec-8e4a-283a1d56266a"/>
				<textFieldExpression><![CDATA[$F{AMELIORATION}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="96" y="1" width="90" height="30" uuid="b1ce65ce-379e-4588-bde4-c203c3245b9b"/>
				<textFieldExpression><![CDATA[$F{OBJECTIFS}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="200" y="1" width="100" height="40" uuid="ecd63fe1-d6db-40c2-a833-c4a448f74d54"/>
				<textFieldExpression><![CDATA[$F{RESUME}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="448" y="1" width="100" height="30" forecolor="#F51836" uuid="13f62b36-9010-4540-9126-e80e1b99af03"/>
				<textFieldExpression><![CDATA[$F{RESULTAT}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="323" y="1" width="100" height="40" uuid="66be5f5c-cd70-45a2-a2e7-98798b917a3d"/>
				<textFieldExpression><![CDATA[$F{POINT_FORT}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
